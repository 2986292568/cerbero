from cerbero import recipe


class Recipe(recipe.Recipe):
    name = 'libffi'
    version = '3.0.10'
    
    def prepare(self):
        from cerbero.config import Platform, Architecture
        if self.config.target_platform == Platform.DARWIN:
            if self.config.target_arch == Architecture.X86_64:
                dir = 'x86_64-apple-darwin*'
            else:
                dir = 'i386-apple-darwin*'
            self.make = 'make -C %s' % dir
            self.make_install = 'make -C %s install' % dir
