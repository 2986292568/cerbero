# vi:si:et:sw=4:sts=4:ts=4:syntax=python
# -*- Mode: Python -*-

from cerbero import recipe

class Recipe(recipe.Recipe):
    from cerbero.config import Platform
    name = 'glib'
    version = '2.30.2'
    configure_sh = 'sh autogen.sh'
    deps = ['libffi', 'zlib']
    platform_deps = { Platform.WINDOWS: ['libiconv', 'gettext'] }

    def prepare(self):
        from cerbero.config import Platform
        if self.config.target_platform == Platform.WINDOWS:
            configure_options = '--with-libiconv=gnu'
        else:
            configure_options = '--with-libiconv=native'
